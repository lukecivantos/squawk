{"filter":false,"title":"downvote.php","tooltip":"/finalproject/public/downvote.php","ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":5,"column":54},"end":{"row":5,"column":54},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"hash":"053a4e89ac55e3868ff3ff70fe8797a43cf74763","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":5,"column":80},"end":{"row":5,"column":81},"action":"remove","lines":["O"],"id":11}],[{"start":{"row":5,"column":79},"end":{"row":5,"column":80},"action":"remove","lines":["P"],"id":12}],[{"start":{"row":5,"column":79},"end":{"row":5,"column":80},"action":"insert","lines":["G"],"id":13}],[{"start":{"row":5,"column":80},"end":{"row":5,"column":81},"action":"insert","lines":["e"],"id":14}],[{"start":{"row":5,"column":81},"end":{"row":5,"column":82},"action":"insert","lines":["t"],"id":15}],[{"start":{"row":5,"column":81},"end":{"row":5,"column":82},"action":"remove","lines":["t"],"id":16}],[{"start":{"row":5,"column":80},"end":{"row":5,"column":81},"action":"remove","lines":["e"],"id":17}],[{"start":{"row":5,"column":80},"end":{"row":5,"column":81},"action":"insert","lines":["E"],"id":18}],[{"start":{"row":5,"column":81},"end":{"row":5,"column":82},"action":"insert","lines":["T"],"id":19}],[{"start":{"row":5,"column":58},"end":{"row":5,"column":59},"action":"remove","lines":["+"],"id":20}],[{"start":{"row":5,"column":58},"end":{"row":5,"column":59},"action":"insert","lines":["-"],"id":21}],[{"start":{"row":5,"column":90},"end":{"row":6,"column":0},"action":"insert","lines":["",""],"id":22}],[{"start":{"row":6,"column":0},"end":{"row":7,"column":0},"action":"insert","lines":["",""],"id":23}],[{"start":{"row":7,"column":0},"end":{"row":7,"column":110},"action":"insert","lines":["    $results = CS50::query(\"Insert Into votes (entry_id, user_id, up_down) VALUES (?, ?, ?)\", $_GET[\"id\"], 1);"],"id":24}],[{"start":{"row":7,"column":0},"end":{"row":7,"column":4},"action":"remove","lines":["    "],"id":25}],[{"start":{"row":7,"column":0},"end":{"row":7,"column":4},"action":"insert","lines":["    "],"id":26}],[{"start":{"row":5,"column":0},"end":{"row":5,"column":4},"action":"insert","lines":["    "],"id":27}],[{"start":{"row":2,"column":0},"end":{"row":2,"column":4},"action":"insert","lines":["    "],"id":28}],[{"start":{"row":3,"column":0},"end":{"row":3,"column":4},"action":"insert","lines":["    "],"id":29}],[{"start":{"row":7,"column":4},"end":{"row":7,"column":110},"action":"remove","lines":["$results = CS50::query(\"Insert Into votes (entry_id, user_id, up_down) VALUES (?, ?, ?)\", $_GET[\"id\"], 1);"],"id":30},{"start":{"row":7,"column":4},"end":{"row":7,"column":127},"action":"insert","lines":["$results = CS50::query(\"Insert Into votes (entry_id, user_id, up_down) VALUES (?, ?, ?)\", $_GET[\"id\"], $_SESSION[\"id\"], 1);"]}],[{"start":{"row":8,"column":0},"end":{"row":8,"column":4},"action":"insert","lines":["    "],"id":31}],[{"start":{"row":8,"column":4},"end":{"row":8,"column":53},"action":"insert","lines":[" print(json_encode($results, JSON_PRETTY_PRINT));"],"id":32}],[{"start":{"row":8,"column":4},"end":{"row":8,"column":5},"action":"remove","lines":[" "],"id":33}],[{"start":{"row":8,"column":4},"end":{"row":9,"column":0},"action":"insert","lines":["",""],"id":34},{"start":{"row":9,"column":0},"end":{"row":9,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":7,"column":4},"end":{"row":7,"column":5},"action":"insert","lines":["/"],"id":35}],[{"start":{"row":7,"column":5},"end":{"row":7,"column":6},"action":"insert","lines":["/"],"id":36}],[{"start":{"row":9,"column":4},"end":{"row":9,"column":5},"action":"insert","lines":["/"],"id":37}],[{"start":{"row":9,"column":5},"end":{"row":9,"column":6},"action":"insert","lines":["/"],"id":38}],[{"start":{"row":9,"column":1},"end":{"row":9,"column":54},"action":"remove","lines":["   //print(json_encode($results, JSON_PRETTY_PRINT));"],"id":39}],[{"start":{"row":9,"column":0},"end":{"row":9,"column":1},"action":"remove","lines":[" "],"id":40}],[{"start":{"row":8,"column":4},"end":{"row":9,"column":0},"action":"remove","lines":["",""],"id":41}],[{"start":{"row":7,"column":5},"end":{"row":7,"column":6},"action":"remove","lines":["/"],"id":42}],[{"start":{"row":7,"column":4},"end":{"row":7,"column":5},"action":"remove","lines":["/"],"id":43}],[{"start":{"row":7,"column":30},"end":{"row":7,"column":39},"action":"remove","lines":["sert Into"],"id":44}],[{"start":{"row":7,"column":29},"end":{"row":7,"column":30},"action":"remove","lines":["n"],"id":45}],[{"start":{"row":7,"column":29},"end":{"row":7,"column":30},"action":"insert","lines":["N"],"id":46}],[{"start":{"row":7,"column":30},"end":{"row":7,"column":31},"action":"insert","lines":["S"],"id":47}],[{"start":{"row":7,"column":31},"end":{"row":7,"column":32},"action":"insert","lines":["E"],"id":48}],[{"start":{"row":7,"column":32},"end":{"row":7,"column":33},"action":"insert","lines":["R"],"id":49}],[{"start":{"row":7,"column":33},"end":{"row":7,"column":34},"action":"insert","lines":["T"],"id":50}],[{"start":{"row":7,"column":34},"end":{"row":7,"column":35},"action":"insert","lines":[" "],"id":51}],[{"start":{"row":7,"column":35},"end":{"row":7,"column":36},"action":"insert","lines":["I"],"id":52}],[{"start":{"row":7,"column":36},"end":{"row":7,"column":37},"action":"insert","lines":["N"],"id":53}],[{"start":{"row":7,"column":37},"end":{"row":7,"column":38},"action":"insert","lines":["T"],"id":54}],[{"start":{"row":7,"column":38},"end":{"row":7,"column":39},"action":"insert","lines":["O"],"id":55}],[{"start":{"row":7,"column":124},"end":{"row":7,"column":125},"action":"remove","lines":["1"],"id":56}],[{"start":{"row":7,"column":124},"end":{"row":7,"column":125},"action":"insert","lines":["2"],"id":57}],[{"start":{"row":7,"column":28},"end":{"row":7,"column":125},"action":"remove","lines":["INSERT INTO votes (entry_id, user_id, up_down) VALUES (?, ?, ?)\", $_GET[\"id\"], $_SESSION[\"id\"], 2"],"id":58},{"start":{"row":7,"column":28},"end":{"row":7,"column":123},"action":"insert","lines":["\"UPDATE votes SET up_down = 0 WHERE user_id = ? AND entry_id = ?\", $_SESSION[\"id\"], $_GET[\"id\"]"]}],[{"start":{"row":7,"column":28},"end":{"row":7,"column":29},"action":"remove","lines":["\""],"id":59}],[{"start":{"row":7,"column":55},"end":{"row":7,"column":56},"action":"remove","lines":["0"],"id":60}],[{"start":{"row":7,"column":55},"end":{"row":7,"column":56},"action":"insert","lines":["2"],"id":61}],[{"start":{"row":7,"column":77},"end":{"row":7,"column":78},"action":"remove","lines":["D"],"id":62}],[{"start":{"row":7,"column":76},"end":{"row":7,"column":77},"action":"remove","lines":["N"],"id":63}],[{"start":{"row":7,"column":75},"end":{"row":7,"column":76},"action":"remove","lines":["A"],"id":64}],[{"start":{"row":7,"column":74},"end":{"row":7,"column":75},"action":"remove","lines":[" "],"id":65}],[{"start":{"row":7,"column":74},"end":{"row":7,"column":75},"action":"insert","lines":[","],"id":66}],[{"start":{"row":7,"column":55},"end":{"row":7,"column":56},"action":"insert","lines":["u"],"id":67}],[{"start":{"row":7,"column":56},"end":{"row":7,"column":57},"action":"insert","lines":["p"],"id":68}],[{"start":{"row":7,"column":57},"end":{"row":7,"column":58},"action":"insert","lines":["_"],"id":69}],[{"start":{"row":7,"column":58},"end":{"row":7,"column":59},"action":"insert","lines":["d"],"id":70}],[{"start":{"row":7,"column":59},"end":{"row":7,"column":60},"action":"insert","lines":["o"],"id":71}],[{"start":{"row":7,"column":60},"end":{"row":7,"column":61},"action":"insert","lines":["w"],"id":72}],[{"start":{"row":7,"column":61},"end":{"row":7,"column":62},"action":"insert","lines":["n"],"id":73}],[{"start":{"row":7,"column":62},"end":{"row":7,"column":63},"action":"insert","lines":[" "],"id":74}],[{"start":{"row":7,"column":63},"end":{"row":7,"column":64},"action":"insert","lines":["+"],"id":75}],[{"start":{"row":7,"column":64},"end":{"row":7,"column":65},"action":"insert","lines":[" "],"id":76}],[{"start":{"row":7,"column":84},"end":{"row":7,"column":85},"action":"remove","lines":[","],"id":77}],[{"start":{"row":7,"column":84},"end":{"row":7,"column":85},"action":"insert","lines":[" "],"id":78}],[{"start":{"row":7,"column":85},"end":{"row":7,"column":86},"action":"insert","lines":["A"],"id":79}],[{"start":{"row":7,"column":86},"end":{"row":7,"column":87},"action":"insert","lines":["N"],"id":80}],[{"start":{"row":7,"column":87},"end":{"row":7,"column":88},"action":"insert","lines":["D"],"id":81}],[{"start":{"row":7,"column":134},"end":{"row":8,"column":0},"action":"insert","lines":["",""],"id":83},{"start":{"row":8,"column":0},"end":{"row":8,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":8,"column":4},"end":{"row":9,"column":114},"action":"insert","lines":["    $results = CS50::query(\"INSERT INTO votes (user_id, entry_id, up_down) VALUES(?,?,?)\",$_SESSION[\"id\"],$_GET[\"id\"], 0);","    $delete = CS50::query(\"DELETE * FROM votes WHERE user_id = ? AND entry_id = ?\", $_SESSION[\"id\"], $_GET[\"id\"]);"],"id":84}],[{"start":{"row":8,"column":4},"end":{"row":8,"column":8},"action":"remove","lines":["    "],"id":85}],[{"start":{"row":7,"column":2},"end":{"row":7,"column":134},"action":"remove","lines":["  $results = CS50::query(\"UPDATE votes SET up_down = up_down + 2 WHERE user_id = ? AND entry_id = ?\", $_SESSION[\"id\"], $_GET[\"id\"]);"],"id":86}],[{"start":{"row":7,"column":1},"end":{"row":7,"column":2},"action":"remove","lines":[" "],"id":87}],[{"start":{"row":7,"column":0},"end":{"row":7,"column":1},"action":"remove","lines":[" "],"id":88}],[{"start":{"row":6,"column":0},"end":{"row":7,"column":0},"action":"remove","lines":["",""],"id":89}],[{"start":{"row":5,"column":94},"end":{"row":6,"column":0},"action":"remove","lines":["",""],"id":90}],[{"start":{"row":5,"column":94},"end":{"row":6,"column":0},"action":"insert","lines":["",""],"id":91},{"start":{"row":6,"column":0},"end":{"row":6,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":7,"column":119},"end":{"row":7,"column":120},"action":"remove","lines":["0"],"id":93}],[{"start":{"row":7,"column":119},"end":{"row":7,"column":120},"action":"insert","lines":["2"],"id":94}],[{"start":{"row":9,"column":4},"end":{"row":9,"column":5},"action":"insert","lines":["]"],"id":95}],[{"start":{"row":9,"column":5},"end":{"row":9,"column":6},"action":"insert","lines":["]"],"id":96}],[{"start":{"row":9,"column":6},"end":{"row":9,"column":7},"action":"insert","lines":["="],"id":97}],[{"start":{"row":9,"column":6},"end":{"row":9,"column":7},"action":"remove","lines":["="],"id":98}],[{"start":{"row":9,"column":5},"end":{"row":9,"column":6},"action":"remove","lines":["]"],"id":99}],[{"start":{"row":9,"column":4},"end":{"row":9,"column":5},"action":"remove","lines":["]"],"id":100}],[{"start":{"row":9,"column":0},"end":{"row":9,"column":4},"action":"remove","lines":["    "],"id":101}],[{"start":{"row":8,"column":114},"end":{"row":9,"column":0},"action":"remove","lines":["",""],"id":102}],[{"start":{"row":8,"column":4},"end":{"row":8,"column":14},"action":"remove","lines":["$delete = "],"id":103}],[{"start":{"row":8,"column":43},"end":{"row":8,"column":44},"action":"insert","lines":["("],"id":104}],[{"start":{"row":8,"column":72},"end":{"row":8,"column":73},"action":"insert","lines":[")"],"id":105}],[{"start":{"row":8,"column":24},"end":{"row":8,"column":25},"action":"remove","lines":["*"],"id":106}],[{"start":{"row":8,"column":23},"end":{"row":8,"column":24},"action":"remove","lines":[" "],"id":107}],[{"start":{"row":8,"column":4},"end":{"row":8,"column":104},"action":"remove","lines":["CS50::query(\"DELETE FROM votes WHERE (user_id = ? AND entry_id = ?)\", $_SESSION[\"id\"], $_GET[\"id\"]);"],"id":108}],[{"start":{"row":6,"column":4},"end":{"row":6,"column":104},"action":"insert","lines":["CS50::query(\"DELETE FROM votes WHERE (user_id = ? AND entry_id = ?)\", $_SESSION[\"id\"], $_GET[\"id\"]);"],"id":109}],[{"start":{"row":8,"column":0},"end":{"row":8,"column":4},"action":"remove","lines":["    "],"id":110}],[{"start":{"row":7,"column":122},"end":{"row":8,"column":0},"action":"remove","lines":["",""],"id":111}],[{"start":{"row":4,"column":4},"end":{"row":5,"column":0},"action":"insert","lines":["",""],"id":112},{"start":{"row":5,"column":0},"end":{"row":5,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":5,"column":4},"end":{"row":5,"column":54},"action":"insert","lines":["// Sets the score and database votes appropriately"],"id":113}]]},"timestamp":1449420267000}